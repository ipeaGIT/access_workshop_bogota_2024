{
  "hash": "11f10cfa21e534db608e4762efbdedbb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Equity measures\"\nexecute:\n  eval: false\n---\n\n\n\n\ntest `parte2`\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# allocating memory to java\noptions(java.parameters = \"-Xmx6G\")\n\nlibrary(r5r)\nlibrary(accessibility)\nlibrary(ggplot2)\n```\n:::\n\n\n\n\n# Accessibility inequality & poverty  -------------------------------------------\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get data\n\nlibrary(accessibility)\n\n# path to data\ndata_dir <- system.file(\"extdata\", package = \"accessibility\")\n\ntravel_matrix <- readRDS(file.path(data_dir, \"travel_matrix.rds\"))\nland_use_data <- readRDS(file.path(data_dir, \"land_use_data.rds\"))\n\n\n# calculate access\naccess <- cumulative_cutoff(  travel_matrix,\n                              land_use_data,\n                              opportunity = \"jobs\",\n                              travel_cost = \"travel_time\",\n                              cutoff = 30\n                            )\n\nhead(access)\n```\n:::\n\n\n\n\n\n\n\n\n# Accessibility inequality  -------------------------------------------\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#\n# Palma = (avereage) Top 10%  / botton 40%\n\npalma <- palma_ratio(\n                      accessibility_data = access,\n                      sociodemographic_data = land_use_data,\n                      opportunity = \"jobs\",\n                      population = \"population\",\n                      income = \"income_per_capita\"\n                    )\n\npalma\n\n\n\n\n\n# concentration index\n\nci <- accessibility::gini_index(\n                          accessibility_data = access,\n                          sociodemographic_data = land_use_data,\n                          opportunity = \"jobs\",\n                          population = \"population\"\n                          #,\n                         # income = \"income_per_capita\"\n                          # , type = \"corrected\"\n                        )\n\nci\n```\n:::\n\n\n\n\n# Accessibility poverty  -------------------------------------------\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npoverty <- fgt_poverty(\n                          accessibility_data =  access,\n                          sociodemographic_data = land_use_data,\n                          opportunity = \"jobs\",\n                          population = \"population\",\n                          poverty_line = 100000\n                        )\n\n\npoverty\n```\n:::\n\n\n\n\n\n\n# interpretation\n\n#' FGT0: 54% of the pop in poverty\n#' FGT1: the accessibility of the poor is on average 33% lower than the poverty line\n#' FGT2: \n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}